<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link rel="icon" href="http://glorywebsdemo.com/themeforest/html/carveordering/images/favicon.ico" type="image/x-icon">
		<title>消息中心</title>
		<link rel="stylesheet" href="/css/bootstrap.min.css" />
		
		<style type="text/css">
			.mydiv:hover{
			   width:100%;
			
			   height:auto;
			
			   border:rgba(0,0,0,.125) 1px solid;
			
			   background:#fff;
			
			   color:#333;
			
			   filter:progid:DXImageTransform.Microsoft.Shadow(color=rgba(0,0,0,.125),direction=120,strength=4);
			
			   -moz-box-shadow: 2px 2px 10px rgba(0,0,0,.125);
			
			   -webkit-box-shadow: 2px 2px 10px rgba(0,0,0,.125);
			
			    box-shadow:2px 2px 10px rgba(0,0,0,.125);
			}
			a{
				cursor:pointer;
                text-align: center;
                text-decoration: none;
            }
            a:link,a:visited{
			 	text-decoration:none;  /*超链接无下划线*/
			}
		</style>
	</head>

	<body>
		<div class="container" style="padding: 0;margin-top:0; background-color: EBEBEB;">
			<div class="container-fluid" style="margin-bottom: 4px;padding: 0;">
				<div class="container-fluid row">

					<!--
                	作者：2539829814@qq.com
                	时间：2019-12-30
                	描述：巨幕
                -->
					<div class="col-lg-3" style="height: auto; ">
						<h1>消息中心</h1>
						<p>欢迎来到本视频网站。在这，你将发现更多美。</p>
						<p>
							<a class="btn btn-info btn-1g" href="http://www.baidu.com" role="button">Learn More</a>
						</p>
					</div>

					<!--
                	作者：2539829814@qq.com
                	时间：2019-12-30
                	描述：轮播图
                	图片要求：800*200的图片大小
                -->
					<div class="container col-lg-8 col-lg-offset-1 lunbotu" style="height: 200px;padding: 0;">
						<div id="myCarousel" class="carousel slide" style="">
							<!-- 轮播（Carousel）指标 -->
							<ol class="carousel-indicators">
								<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
								<li data-target="#myCarousel" data-slide-to="1"></li>
								<li data-target="#myCarousel" data-slide-to="2"></li>
							</ol>
							<!-- 轮播（Carousel）项目 -->
							<div class="carousel-inner" style="width: auto; height: 200px;">
								<div class="item active" align="center">
									<img src="/img/abc.png" alt="First slide" style="width: 100%; height: 200px;">
									<div class="carousel-caption">尽情期待</div>
								</div>
								<div class="item" align="center">
									<img src="/img/abc.png" alt="Second slide" style="width: 100%; height: 200px;">
									<div class="carousel-caption">诚邀加盟</div>
								</div>
								<div class="item" align="center">
									<img src="/img/abc.png" alt="Third slide" style="width: 100%; height: 200px;">
									<div class="carousel-caption">先到先得</div>
								</div>
							</div>
							<!-- 轮播（Carousel）导航 -->
							<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
								<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
								<span class="sr-only">Previous</span>
							</a>
							<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
								<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							</a>
						</div>

					</div>
				</div>
			</div>

			<!--
        	作者：2539829814@qq.com
        	时间：2019-12-30
        	描述：网站导航条
       -->
			<nav class="navbar navbar-default navbar-inverse">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
			            	<span class="sr-only">Toggle navigation</span>
			             	<span class="icon-bar"></span>
			             	<span class="icon-bar"></span>
			             	<span class="icon-bar"></span>
			            </button>

						<img class="navbar-brand" th:src="${session.user.iconUrl}" style="width:50px; height:50px; margin-left: 5px;border-radius:50%;" />
					</div>
					<div id="navbar" class="navbar-collapse collapse">
						<ul class="nav navbar-nav mytab">
							<li data-toggle="tab" class="active">
								<a id="allMsgButton" href="#">全部通知</a>
							</li>
							<li data-toggle="tab">
								<a id="privateMsgButton" href="#">用户私信</a>
							</li>
							<li data-toggle="tab">
								<a id="systemMsgButton" href="#">系统消息</a>
							</li>
							<li class="dropdown" data-toggle="tab">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">通知中心 <span class="caret"></span></a>
								<ul class="dropdown-menu mytab" role="menu" aria-labelledby="dropdownMenu">
									<li data-toggle="tab" class="dropdown-header">其他通知</li>
									<li>
										<a id="suportNoticeButton" href="#">点赞通知</a>
									</li>
									<li>
										<a id="evaluateNoticeButton" href="#">点评通知</a>
									</li>
									<li>
										<a id="collectionNoticeButton" href="#">收藏通知</a>
									</li>		
								</ul>
							</li>

						</ul>

						<ul class="nav navbar-nav navbar-right">
							<li class="dropdown" data-toggle="tab">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span title="设置" class="glyphicon glyphicon-cog"></span></a>
								<ul class="dropdown-menu mytab">
									<li data-toggle="tab" class="dropdown-header">设置中心</li>
									<li data-toggle="tab">
										<a href="#">用户登录</a>
									</li>
									<li data-toggle="tab">
										<a href="#">安全退出</a>
									</li>
									<li data-toggle="tab">
										<a href="#">账号注销</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
					<!--/.nav-collapse -->
				</div>
				<!--/.container-fluid -->
			</nav>


			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于显示allMsgPage
                -->
			<div class="container">
				<div id="allMsgPage"></div>
			</div>

			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于显示privateMsgPage
                -->
			<div class="container">
				<div id="privateMsgPage"></div>
			</div>

			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于显示systemMsgPage
                -->
			<div class="container">
				<div id="systemMsgPage"></div>
			</div>
			
			
			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于显示suportNoticePage
                -->
			<div class="container">
				<div id="suportNoticePage"></div>
			</div>
			
			
			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于显示evaluateNoticePage
                -->
			<div class="container">
				<div id="evaluateNoticePage"></div>
			</div>
			
			
			<!--
                	作者：2539829814@qq.com
                	时间：2020-02-06
                	描述：用于collectionNoticePage
                -->
			<div class="container">
				<div id="collectionNoticePage"></div>
			</div>
			
		</div>

		 <script src="/js/jquery.min.js"></script>
			<!-- include flowplayer -->
			<script src="/js/flowplayer.min.js"></script>

			<script src="/js/bootstrap.min.js"></script>


			<script type="text/javascript">
			
				$('#reload').click(
					function(){
						window.location.reload();
					}		
				);
				
				var allMsg_signal = false;
				var privateMsg_signal = false;
				var systemMsg_signal = false;
				var suportNotice_signal = false;
				var evaluateNotice_signal = false;
				var collectionNotice_signal = false;

				
				$(document).ready(
					function() {
						$("#allMsgPage").show();
						$("#privateMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#evaluateNoticePage").hide();
						$("#collectionNoticePage").hide();
						myAjax("/MsgController/getMsgListByAjax","allMsgPage","allMsgPage","All");
						allMsg_signal = true;
					}
				);
				$("#allMsgButton").click(
					function() {
						$("#allMsgPage").show();
						$("#privateMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#evaluateNoticePage").hide();
						$("#collectionNoticePage").hide();
						if(allMsg_signal != true){
							allMsg_signal = true;
							myAjax("/MsgController/getMsgListByAjax","allMsgPage","allMsgPage","All");
						}
					}
				);
				$("#privateMsgButton").click(
					function() {
						$("#privateMsgPage").show();
						$("#allMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#evaluateNoticePage").hide();
						$("#collectionNoticePage").hide();
						if(privateMsg_signal !=true){
							privateMsg_signal =true;
							myAjax("/MsgController/getMsgListByAjax","privateMsgPage","privateMsgPage","PrivateMsg");
						}
					}
				);
				$("#systemMsgButton").click(
					function() {
						$("#systemMsgPage").show();
						$("#allMsgPage").hide();
						$("#privateMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#evaluateNoticePage").hide();
						$("#collectionNoticePage").hide();
						if(systemMsg_signal !=true){
							systemMsg_signal = true;
							myAjax("/MsgController/getMsgListByAjax","systemMsgPage","systemMsgPage","SystemMsg");
						}
					}
				);
				$("#suportNoticeButton").click(
					function() {
						$("#suportNoticePage").show();
						$("#allMsgPage").hide();
						$("#privateMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#evaluateNoticePage").hide();
						$("#collectionNoticePage").hide();
						if(suportNotice_signal !=true){
							suportNotice_signal = true;
							myAjax("/MsgController/getMsgListByAjax","suportNoticePage","suportNoticePage","SuportNotice");
						}
					}
				);
				
				$("#evaluateNoticeButton").click(
					function() {
						$("#evaluateNoticePage").show();
						$("#allMsgPage").hide();
						$("#privateMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#collectionNoticePage").hide();
						if(evaluateNotice_signal !=true){
							evaluateNotice_signal = true;
							myAjax("/MsgController/getMsgListByAjax","evaluateNoticePage","evaluateNoticePage","EvaluateNotice");
						}
					}
				);
				
				$("#collectionNoticeButton").click(
					function() {
						$("#collectionNoticePage").show();
						$("#allMsgPage").hide();
						$("#privateMsgPage").hide();
						$("#systemMsgPage").hide();
						$("#suportNoticePage").hide();
						$("#evaluateNoticePage").hide();
						if(collectionNotice_signal !=true){
							collectionNotice_signal = true;
							myAjax("/MsgController/getMsgListByAjax","collectionNoticePage","collectionNoticePage","CollectionNotice");
						}
					}
				);

				function myAjax(url,showpage_id,id_identify_prefix,msgTypeName){
					$.ajax({
						url:url+"?msgTypeName="+msgTypeName,
						async:true,
						type:"get",
						dataType:"JSON",
						error:function(){
							alert("失败");
						},
					  	success:function(data){
							//alert("成功");
							$.each(data, function(i, val) {
								var div1 = $('<div class="mydiv containe-fluidr" style="background-color: white;margin:5px 0;border: rgba(0,0,0,.125) solid 1px; "/>');
								
								var div11 = $('<div style="padding: 20px 0 0 20px;"/>');
								div11.appendTo(div1);
								var span1_div11 = $('<span/>');
								span1_div11.appendTo(div11);
								span1_div11.html(this.msgTitle);
								
								
								var span2_div11 = $('<span style="margin-left: 10px;color: #CFCFCF;"/>');
								span2_div11.appendTo(div11);
								span2_div11.html(this.msgSendDate);
								
								var div12 = $('<div style="padding: 6px 0 16px 20px;text-indent:2em;"/>');
								div12.appendTo(div1);
								var span1_div12 = $('<span/>');
								span1_div12.appendTo(div12);
								span1_div12.html(this.msgContext);
								
								var span2_div12 = $('<span/>');
								span2_div12.appendTo(div12);
								
								var a_span2_div12 =$('<a/>')
								a_span2_div12.appendTo(span2_div12);
								a_span2_div12.html("查看详情>>");
								
								div1.appendTo("#"+showpage_id);
							});
						}
					})
				}
			</script>
	</body>

</html>